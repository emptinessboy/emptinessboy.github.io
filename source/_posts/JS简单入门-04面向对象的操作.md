---
title: JS简单入门 04面向对象的操作
date: 2020-03-29 22:45:19
category: JS学习
tags: javascript
thumbnail: https://media.everdo.cn/tank/pic-bed/2020/03/27/JavaScript-Web-Frameworks-Software.jpg
---

在JavaScript 中“一切皆对象”，如字符串、数值、函数、数组等都是对象， JavaScript提供了自定义对象和内置对象。

## 对象概述

例如， 一个用户可以被看作一个对象，它包含用户名、用户密码等特性，也包含注册、注销等动作。一个Web 页可以看做—个对象，它包含背景色、段落文本、标题等特性，同时又包含打开、关闭和写入等动作。***简单来讲，对象就是一组属性与方法的集合。***

### 对象的属性和方法

在 JavaScript 中，对象包含 **属性** 和 **方法** 两个要素。属性是作为对象成员的变量，表明对象的状态；而方法是作为对象成员的函数，表明对象所具有的行为，具体如下：

- 属性：用来描述对象特性的数据，即若干变量。
- 方法：用来操作对象的若干动作，即若干函数。
  
通过访问或设置对象的属性，并且调用对象的方法，就可以对对象进行各种操作，从而获得需要的功能。在程序中若要调用对象的属性或方法，则需要在对象后面加上一个句点 “.” （即点标记格式），继而在其后加上属性名或方法名即可。例如， screen.width 表示通过 screen 对象的 width 属性获取屏幕宽度； Math.sqrt(x) 表示通过 Math 对象的 sqrt() 方法获取 x 的平方根。

### 创建和删除对象

#### · 创建对象

在 JavaScript 中，使用 new 运算符可以创建对象，将新建的对象赋值给一个变量后，就可以通过这个变量访问对象的属性和方法。值得一提的是， Object 对象是所有对象的顶层对象，所有对象均继承自 Object 对象。

使用new 运算符创建对象变量的格式如下：

```javascript
变扯名 = new 对象名()
```

下面是一个使用运算符 new 创建了一个 Date 对象的具体示例：

```html
<script type="text/javascript">
var date;
date=new Date();
document.write("现在是："+date.getHours()+"时"+date.getMinutes()+"分"+date.getSeconds()+"秒");
</script>
```

<script type="text/javascript">
var date;
date=new Date();
document.write("现在是："+date.getHours()+"时"+date.getMinutes()+"分"+date.getSeconds()+"秒");
</script>

现在 Date 对象已经赋值给变量 date 。通过变量 date 就可调用 Date 对象的方法以获取当前系统的时间。

#### · 删除属性

delete 运算符可以删除对象的属性，它的操作数应当是一个属性访问表达式。其中需要注意的是，内置对象的属性及方法多数不能使用 delete 、对象继承于原型的属性和方法也不能使用 delete , 同时 delete 只是断开属性和对象之间的联系，从而使对象不再能操作属性。

下面是 delete 运算符的使用的具体案例：

```html
<script type="text/javascript">
var box;
box=new Object();
box.name="小王";
box.age = 18;
document.write("删除前："+box.name+"的年龄是 <b>"+box.age+"</b>");
document.write("<br>删除 box 对象的 age 属性成功返回："+delete box.age);
document.write("<br>删除后："+box.name+"的年龄是 <b>"+box.age+"</b>");
</script>
```

<script type="text/javascript">
var box;
box=new Object();
box.name="小王";
box.age = 18;
document.write("删除前："+box.name+"的年龄是 <b>"+box.age+"</b>");
document.write("<br>删除 box 对象的 age 属性成功返回："+delete box.age);
document.write("<br>删除后："+box.name+"的年龄是 <b>"+box.age+"</b>");
</script>

成功删除对象的属性时，返回 true, 当再次调用时，则显示 undefined 未定义。其中需要注意的是，删除不存在的属性和属性访问表达式时，delete 同样返回 true。

## 内置对象

JavaScript 中提供了许多内置对象，如 Boolean 对象、Date 对象、Error 对象、Function 对象、Global 对象、Math 对象、Object 对象、String 对象等。

### Date 对象

Date 对象主要提供获取和设置日期与时间的方法

方法|说明
---|---
getYear()|返回日期的年份，是 2 位或 4 位整数
setYear(x)|设置年份值 x
getFullYear()|返回日期的完整年份。例如：2013
setFullYear|(x) 设置完整的年份值 x
getMonth()|返回日期的月份值，介于 0 ~ 11, 分别表示 1 、2 . .12 月
setMonth(x)|设置月份值 x
getDate()|返回日期的日期值，介于 1 ~ 31
setDate(x)|设置日期值 x
getDay()|返回值是—个处于 0~6 的整数，代表一周中的某一天（ 即 0 表示星期天， 1 表示星期一，依次类推 ）
getHours()|返回时间的小时值，介于 0 ~23
setHours(x)|设置小时值 x
getMinutes()|返回时间的分钟值，介于 0 ~ 59
setMinutes(x)|设置分钟值 x
getSeconds()|返回时间的秒数值，介于 0~ 59
setSeconds(x)|设置秒数值 x
getMilliseconds()|返回时间的毫秒数值，介于 0 ~ 999
setMilliseconds(x)|设置毫秒数值 x
getTime()|返回 1970 年 1 月 1 日至今的亳秒数。负数代表 1970 年之前的日期
setTime(x)|使用毫秒数 x 设置日期和时间
tolocaleString()|根据本地时间格式，把 Date 对象转换为字符串
tolocaleTimeStnng()|根据本地时间格式，把 Date 对象的时间部分转换为字符串
tolocaleDateStnng()|根据本地时间格式，把 Date 对象的日期部分转换为字符串
toGMTString()|返回时间对应的格林尼治标准时间的字符串

要使用Date 对象，必须先使用new 关键字创建它，其中常见创建Date 对象的方式有如下3 种。

a)不带参数，其创建方式如下所示：

```javascript
var d = new Date();
```

在上述代码中，创建了一个含有系统当前日期和时间的Date 对象。

b) 创建一个指定日期的Date 对象，其创建方式如下所示：

```javascript
var d = new Date(2020,1,1);
```
在上述代码中，创建了一个日期是 2020 年 1 月 1 日的 Date 对象，而且这个对象中的小时、分钟、秒、毫秒值都为 0 。需要注意的是，月份的返回值是从 0 到11, 即 0 表示 1 月。

c) 创建—个指定时间的Date 对象，其创建方式如下所示：

```javascript
var d = newDate (2020, 3 , 3 , 10 , 20 , 30 , 50);
```

在上述代码中，创建—个包含确切日期和时间的Date 对象，即2020 年 3 月 3 日10 点 20分 30 秒 50 毫秒。

下面是一个获取系统日期的具体案例：

```html
<script type="text/javascript">
var date=new Date();
var year=date.getFullYear();
var month=date.getMonth();
month=month+1;
var day=date.getDate();
document.write("当前日期为:"+year+"年"+month+"月"+day+"日"); 
</script>
```

<script type="text/javascript">
var date=new Date();
var year=date.getFullYear();
var month=date.getMonth();
month=month+1;
var day=date.getDate();
document.write("当前日期为： "+year+" 年 "+month+" 月 "+day+" 日 "); 
</script>

### Math 对象

Math 对象的属性是数学中常用的常量，方法是—些数学函数：

展性|说明
---|---
E|自然对数的底，对应值为2.718281828459045
LN10|10 的自然对数
LN2|2 的自然对数
PI|圆周率pai

方法|说明
---|---
abs(x)|返回 x 的绝对值
ceil(x)|返回大于等于 x 的最小整数
floor(x)|返回小于等于 x 的最大整数
max(x,y)|返回 x 和 y 中的最大值
min(x,y)|返回 x 和 y 中的最小值
pow(x,y)|返回 x 的 y 次幕
random()|返回一个 0 ~ 1 的随机数
round(x)|返回 x 四舍五入的取整数
sqrt(x)|返回 x 的平方根

下面是一个获取 10 到 20 之间随机数的案例：

```html
<button onclick="getRandom(10,20)">获取一个随机数</button>
<p id="random">请点一下上面的按钮来获取随机数</p>
<script>
function getRandom(min,max){
    var num=Math.random();
    num=Math.floor(num*(max-min)+min);
    document.getElementById("random").innerHTML="您获取的随机数是"+num;
}
</script>
```

<button onclick="getRandom(10,20)">获取一个随机数</button>
<p id="random">请点一下上面的按钮来获取随机数</p>
<script>
function getRandom(min,max){
    var num=Math.random();
    num=Math.floor(num*(max-min+1)+min);
    document.getElementById("random").innerHTML="您获取的随机数是 "+num;
}
</script>

### String 对象

String 对象是 JavaScript 提供的字符串处理对象，它提供了对字符串进行处理的属性和方法:

属性|说明
---|---
length|返回字符串中字符的个数。注：一个汉字也是一个字符

方法|说明
---|---
charAt(index)|返回指定索引 (index) 位置处的字符，第 1 个字符的索引为 0,第 2 个字符的索引为 1 以此类推.
indexOf("abc")|从前向后检索字符串
lastIndexOf("abc")|从后向前搜索字符串
substr(startIndex，length)|返回从起始索引号提取字符串中指定数目的字符
substring(startIndex,endIndex)|返回字符串中两个指定的索引号之间的字符
split("分隔符")|把字符串分割为字符串数组
search("substr")|检索字符串中指定子字符串或与正则表达式相匹配的值
replace(substr,replacement)|替换与正则表达式匹配的子串
tolowerCase()|把字符串转换为小写
toUpperCase()|把字符串转换为大写
localeCompare()|用本地特定的顺序来比较两个字符串

下面是一个使用的具体案例：

```html
<button onclick="zfcff()">点击输入字符串</button>
<p id="zfcff"></p>
<script type="text/javascript">
function zfcff(){
    var a,b,i,c="";
    a=prompt("请输入一行文字：","");
    b=a.toUpperCase();
    for(i=b.length-1;i>=0;i--) {
        c=c.concat(b.charAt(i));
    }
    document.getElementById("zfcff").innerHTML=(c);
}
</script>
```

<button onclick="zfcff()">点击输入字符串</button>
<p id="zfcff"></p>
<script type="text/javascript">
function zfcff(){
    var a,b,i,c="";
    a=prompt("请输入一行文字：","");
    b=a.toUpperCase();
    for(i=b.length-1;i>=0;i--) {
        c=c.concat(b.charAt(i));
    }
    document.getElementById("zfcff").innerHTML=(c);
}
</script>

### Array 数组对象

数组是 JavaScript 中唯—用来存储和操作有序数据集的数据结构。

数组中的每个值叫作—个元素，而每个元素在数组中有一个位置，以数字表示，称为索引。JavaScript 数组是无类型的，也就是说数组元素可以是任意类型，并且同—个数组中的不同元素也可以有不同的类型，甚至可以是对象或其他数组。

#### 数组的常见操作

在 JavaScript 中创建数组有两种方式，一种是直接使用方式创建：

```javascript
var cars = ["Saab", "Volvo", "BMW"];
```

另—种是使用new 关键字，结合构造函数 Array() 来创建数组：

```javascript
var cars = new Array("Saab", "Volvo", "BMW");
```

> 出于简洁、可读性和执行速度的考虑，不推荐使用 new 关键字方法。

下面是一个简单的创建和访问数组的案例：

```html
<p id="arrays1"></p>
<p id="arrays2"></p>
<p id="arrays3"></p>
<script>
var s1 = ["Audi", "BMW", "porsche"];
var s2 = new Array("Saab1", "Volvo1", "BMW1");
var s3 = new Array(3);
s3=["AA","BB","CC"]
s3[1]="HELLO";
document.getElementById("arrays1").innerHTML = s1;
document.getElementById("arrays2").innerHTML = s2;
document.getElementById("arrays3").innerHTML = s3;
</script>
```

<p id="arrays1"></p>
<p id="arrays2"></p>
<p id="arrays3"></p>
<script>
var s1 = ["Audi", "BMW", "porsche"];
var s2 = new Array("Saab1", "Volvo1", "BMW1");
var s3 = new Array(3);
s3=["AA","BB","CC"]
s3[1]="HELLO";
document.getElementById("arrays1").innerHTML = s1;
document.getElementById("arrays2").innerHTML = s2;
document.getElementById("arrays3").innerHTML = s3;
</script>

> 如果创建数组的时候指定了数组长度，而后添加的数组元素个数又超出了指定的数组长度，数组仍会保存全部元素

#### 数组的常用属性和方法

属性 / 方法|说明
---|---
length|返回数组中数组元素的个数，即数组长度
toString()|返回一个字符串，该字符串包含数组中的所有元素，各个元素间用逗号隔开
pop()|此方法从数组中删除最后一个元素，并返回“被弹出”的值
push()|方法（在数组结尾处）向数组添加一个新的元素，并返回新数组的长度
splice()|此方法可以在数组中不留“空洞”的情况下移除元素：第一个参数定义新元素应该被添加（接入）的位置，第二个参数定义应该删除多少个元素。
sort()|此方法以字母顺序对数组进行排序
reverse()|此方法反转数组中的元素

下面是一个 toString 方法的案例

```html
<p id="toString"></p>
<script>
var fruits = ["Banana", "Orange", "Apple", "Mango"];
document.getElementById("toString").innerHTML = fruits.toString();
</script>
```

<p id="toString"></p>
<script>
var fruits = ["Banana", "Orange", "Apple", "Mango"];
document.getElementById("toString").innerHTML = fruits.toString();
</script>

**TIPS 01**

> 关于 sort 排序，如果数字按照字符串来排序，则 "25" 大于 "100"，因为 "2" 大于 "1"。正因如此，sort() 方法在对数值排序时会产生不正确的结果。我们通过一个比值函数来修正此问题：

```javascript
var points = [40, 100, 1, 5, 25, 10];
points.sort(function(a, b){return a - b}); 
```

当 sort() 函数比较两个值时，会将值发送到比较函数，并根据所返回的值（负、零或正值）对这些值进行排序。

**TIPS 02**

> 可以使用 Math.max.apply 来查找数组中的最高值,使用 Math.min.apply 来查找数组中的最低值：

```javascript
function myArrayMax(arr) {
    return Math.max.
    apply(null, arr);
}
```
```javascript
Math.max.apply([1, 2, 3]) 等于 Math.max(1, 2, 3)
```

**TIPS 03**

> 和 java 一样，JS 支持增强 for 循环,只不过两者语法略有不同：

```html
<script>
var s1=[1,2,3,4,5,6,7,8,9,10];
var sum = 0;
for(var b in s1){
    sum++;
}
document.write(sum);
</script>
```

<script>
var s1=[1,2,3,4,5,6,7,8,9,10];
var sum = 0;
for(var b in s1){
    sum++;
}
document.write(sum);
</script>

#### 二维数组

对于复杂的业务逻辑，有时简单的—维数组不能够满足需求，需要使用二维数组。当数组中所有的数组元素也是数组时，就形成了二维数组。下面是三种具体方式：

```html
不推荐这种方式：

<script type="text/javascript">
var students,i,j;
students=new Array();
students[0]=new Array("张三",76,90,80);
students[1]=new Array("李四",89,97,86);
students[2]=new Array("王五",90,78,88);
for(i in students){		
	for(j in students[i]){
			document.write(students[i][j] +"\t");
	}
    document.write("<br/>");
}
</script>
```

<script type="text/javascript">
var students,i,j;
students=new Array();
students[0]=new Array("张三",76,90,80);
students[1]=new Array("李四",89,97,86);
students[2]=new Array("王五",90,78,88);
for(i in students){		
	for(j in students[i]){
			document.write(students[i][j] +"\t");
	}
    document.write("<br/>");
}
</script>

```html
方式二：

<script type="text/javascript">
var students,i,j;
students[0]=["张三",76,90,80];
students[1]=["李四",89,97,86];
students[2]=["王五",90,78,88];
for(i in students){		
	for(j in students[i]){
			document.write(students[i][j] +"\t");
	}
    document.write("<br/>");
}
</script>
```

<script type="text/javascript">
var students,i,j;
students[0]=["张三",76,90,80];
students[1]=["李四",89,97,86];
students[2]=["王五",90,78,88];
for(i in students){		
	for(j in students[i]){
			document.write(students[i][j] +"\t");
	}
    document.write("<br/>");
}
</script>

```html
方式三

<script type="text/javascript">
var students,i,j;
students=[
["张三",76,90,80],
["李四",89,97,86],
["王五",90,78,88]];
for(i in students){		
	for(j in students[i]){
			document.write(students[i][j] +"\t");
	}
    document.write("<br/>");
}
</script>
```

<script type="text/javascript">
var students,i,j;
students=[
["张三",76,90,80],
["李四",89,97,86],
["王五",90,78,88]];
for(i in students){		
	for(j in students[i]){
			document.write(students[i][j] +"\t");
	}
    document.write("<br/>");
}
</script>
